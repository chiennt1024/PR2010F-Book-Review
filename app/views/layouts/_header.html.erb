<header class="navbar navbar-expand-sm bg-dark navbar-dark">
  <div class="container">
    <!-- Brand/logo -->
    <%= link_to "AmazingGoodReads", root_path, id: "logo", class: "navbar-brand" %>
    <nav>
      <!-- Links -->
      <ul class="nav navbar-nav navbar-right">
        <li class="nav-item"><%= link_to "Home", root_path, class:"nav-link" %></li>
        <% if logged_in? %>
        <li class="nav-item"><%= link_to "Users All", users_path, class:"nav-link" %></li>
        <!-- Dropdown -->
        <li class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" id="navbardrop" data-toggle="dropdown">
            Account
          </a>
          <div class="dropdown-menu">
            <%= link_to "Profile", current_user, class: "dropdown-item" %>
            <%= link_to "Settings", edit_user_path(current_user), class: "dropdown-item" %>
            <%= link_to "Log out", logout_path, method: :delete, class: "dropdown-item" %>
          </div>
        </li>
        <% else %>
        <li class="nav-item"><%= link_to "Log in", login_path, class:"nav-link", 'data-toggle':"modal",'data-target':"#loginModal" %></li>
        <div class="modal" id="loginModal" tabindex="-1" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Login</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <%= form_for(:session, url: login_path) do |f| %>
              <div class="modal-body">
                  <div class="loginError"></div>
                  <div class="form-group">
                    <%= f.label :email %>
                    <%= f.email_field :email, class: 'form-control' %>
                  </div>
                  <div class="form-group">
                    <%= f.label :password %>
                    <%= f.password_field :password, class: 'form-control' %>
                  </div>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck1">
                    <label class="form-check-label" for="exampleCheck1">Check me out</label>
                  </div>
              </div>
              <div class="modal-footer">
                <%= f.submit "Log in", class: "btn btn-primary login-btn" %>
              </div>
              <% end %>
            </div>
          </div>
          <%= javascript_pack_tag 'loginModal'%> 
        <% end %>
      </ul>
    </nav>
  </div>
</header>